<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CI Failure Recovery Agent - Interactive Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 48px;
            margin-bottom: 10px;
        }

        .main-content {
            padding: 40px;
        }

        .demo-section {
            margin: 40px 0;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 2px solid #e9ecef;
        }

        .demo-section h2 {
            color: #667eea;
            font-size: 28px;
            margin-bottom: 20px;
        }

        .flow-diagram {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .flow-step {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
            position: relative;
            transition: all 0.3s ease;
        }

        .flow-step:hover {
            transform: translateX(10px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .flow-step .number {
            font-size: 32px;
            font-weight: bold;
            width: 60px;
            height: 60px;
            background: rgba(255,255,255,0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
        }

        .flow-step .content h3 {
            font-size: 20px;
            margin-bottom: 10px;
        }

        .flow-step .content p {
            font-size: 14px;
            opacity: 0.9;
        }

        .interactive-demo {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin: 30px 0;
        }

        .terminal {
            background: #1e1e1e;
            color: #00ff00;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.8;
            margin: 20px 0;
            overflow-x: auto;
        }

        .terminal-header {
            background: #2d2d2d;
            color: #ddd;
            padding: 10px;
            border-radius: 8px 8px 0 0;
            margin: -20px -20px 10px -20px;
            display: flex;
            align-items: center;
        }

        .terminal-btn {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .btn-red { background: #ff5f56; }
        .btn-yellow { background: #ffbd2e; }
        .btn-green { background: #27c93f; }

        .pr-comment {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 20px;
            border-radius: 0 8px 8px 0;
            margin: 20px 0;
        }

        .pr-comment h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .issue-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin: 5px;
        }

        .badge-critical {
            background: #ff6b6b;
            color: white;
        }

        .badge-high {
            background: #ff922b;
            color: white;
        }

        .badge-medium {
            background: #ffd43b;
            color: #333;
        }

        .fix-suggestion {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border: 1px solid #dee2e6;
        }

        .fix-suggestion h5 {
            color: #667eea;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .auto-fix-badge {
            background: #51cf66;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            margin-left: 10px;
        }

        .manual-fix-badge {
            background: #868e96;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            margin-left: 10px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            border-color: #667eea;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
        }

        .feature-card .icon {
            font-size: 40px;
            margin-bottom: 15px;
        }

        .feature-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .code-block {
            background: #282c34;
            color: #abb2bf;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
            overflow-x: auto;
            margin: 15px 0;
        }

        .code-comment {
            color: #5c6370;
        }

        .code-keyword {
            color: #c678dd;
        }

        .code-string {
            color: #98c379;
        }

        .code-function {
            color: #61afef;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .comparison-table {
            width: 100%;
            margin: 30px 0;
            border-collapse: collapse;
        }

        .comparison-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
        }

        .comparison-table td {
            padding: 15px;
            border-bottom: 1px solid #e9ecef;
        }

        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .checkmark {
            color: #51cf66;
            font-size: 20px;
        }

        .xmark {
            color: #ff6b6b;
            font-size: 20px;
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
        }

        .stat-number {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 14px;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ CI Failure Recovery Agent</h1>
            <p style="font-size: 18px; margin-top: 10px;">Intelligent Analysis & Auto-Fix for CI/CD Failures</p>
        </div>

        <div class="main-content">
            <!-- Overview -->
            <div class="demo-section">
                <h2>üéØ What It Does</h2>
                <p style="font-size: 18px; margin-bottom: 20px;">
                    An intelligent agent that monitors your CI/CD pipeline, automatically analyzes failures, 
                    suggests fixes, and can even apply fixes automatically for common issues.
                </p>

                <div class="stats-row">
                    <div class="stat-card">
                        <div class="stat-number">1x</div>
                        <div class="stat-label">Auto Retry</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">8+</div>
                        <div class="stat-label">Issue Types Detected</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">5+</div>
                        <div class="stat-label">Auto-Fixable</div>
                    </div>
                </div>
            </div>

            <!-- Flow Diagram -->
            <div class="demo-section">
                <h2>üîÑ How It Works</h2>
                
                <div class="flow-diagram">
                    <div class="flow-step">
                        <div class="number">1</div>
                        <div class="content">
                            <h3>Pipeline Fails</h3>
                            <p>Your CI/CD pipeline encounters an error - build failure, test failure, quality gate, etc.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="number">2</div>
                        <div class="content">
                            <h3>Agent Activates</h3>
                            <p>The failure recovery agent automatically triggers and downloads complete failure logs.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="number">3</div>
                        <div class="content">
                            <h3>Intelligent Analysis</h3>
                            <p>Uses pattern matching to detect issue types: quality gate, tests, builds, security, dependencies.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="number">4</div>
                        <div class="content">
                            <h3>Generate Fixes</h3>
                            <p>Creates actionable fix suggestions with exact commands to run and links to documentation.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="number">5</div>
                        <div class="content">
                            <h3>Apply Auto-Fixes</h3>
                            <p>For auto-fixable issues (linting, dependencies, formatting), applies fixes and creates commit.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="number">6</div>
                        <div class="content">
                            <h3>Retry Once</h3>
                            <p>Automatically retries the failed workflow. If it succeeds, you're done! If not, moves to step 7.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="number">7</div>
                        <div class="content">
                            <h3>Post Analysis</h3>
                            <p>Posts comprehensive analysis to PR with all suggestions, commands, and logs snippets.</p>
                        </div>
                    </div>

                    <div class="flow-step">
                        <div class="number">8</div>
                        <div class="content">
                            <h3>Notify Team</h3>
                            <p>Sends Slack notification to team. Manual intervention required if retry also fails.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Issue Detection -->
            <div class="demo-section">
                <h2>üîç Issue Detection Capabilities</h2>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="icon">üéØ</div>
                        <h4>Quality Gate Failures</h4>
                        <p>Detects when code coverage, code smells, or duplications exceed thresholds.</p>
                        <div class="issue-badge badge-high">High Severity</div>
                    </div>

                    <div class="feature-card">
                        <div class="icon">üß™</div>
                        <h4>Test Failures</h4>
                        <p>Identifies failing unit tests, integration tests, and assertion errors.</p>
                        <div class="issue-badge badge-high">High Severity</div>
                    </div>

                    <div class="feature-card">
                        <div class="icon">üî®</div>
                        <h4>Build Failures</h4>
                        <p>Catches compilation errors, missing dependencies, and syntax issues.</p>
                        <div class="issue-badge badge-critical">Critical</div>
                    </div>

                    <div class="feature-card">
                        <div class="icon">üì¶</div>
                        <h4>Dependency Issues</h4>
                        <p>Resolves unmet dependencies, version conflicts, and repository access issues.</p>
                        <div class="issue-badge badge-high">High Severity</div>
                    </div>

                    <div class="feature-card">
                        <div class="icon">üîí</div>
                        <h4>Security Vulnerabilities</h4>
                        <p>Detects CVEs, high severity vulnerabilities, and outdated packages.</p>
                        <div class="issue-badge badge-critical">Critical</div>
                    </div>

                    <div class="feature-card">
                        <div class="icon">‚ú®</div>
                        <h4>Linting Errors</h4>
                        <p>Finds code style violations, ESLint errors, and formatting issues.</p>
                        <div class="issue-badge badge-medium">Medium</div>
                    </div>

                    <div class="feature-card">
                        <div class="icon">‚è±Ô∏è</div>
                        <h4>Timeouts</h4>
                        <p>Identifies when jobs exceed time limits or hang indefinitely.</p>
                        <div class="issue-badge badge-medium">Medium</div>
                    </div>

                    <div class="feature-card">
                        <div class="icon">üê≥</div>
                        <h4>Docker Issues</h4>
                        <p>Handles Docker build failures, image pull issues, and registry problems.</p>
                        <div class="issue-badge badge-high">High Severity</div>
                    </div>
                </div>
            </div>

            <!-- Example Output -->
            <div class="demo-section">
                <h2>üìä Example Analysis Output</h2>
                
                <div class="terminal">
                    <div class="terminal-header">
                        <span class="terminal-btn btn-red"></span>
                        <span class="terminal-btn btn-yellow"></span>
                        <span class="terminal-btn btn-green"></span>
                        <span style="margin-left: 10px;">CI Failure Agent Output</span>
                    </div>
ü§ñ CI Failure Agent Starting...

üîç Analyzing failure in job: build-java

‚úì Detected 2 issue(s)

ISSUES DETECTED
---------------

Type: test_failure
Severity: high
Category: tests
Pattern: Tests run:.*Failures: [1-9]

Type: quality_gate
Severity: high
Category: code_quality
Pattern: coverage.*below.*threshold

üí° Generating fix suggestions...
‚úì Generated 2 fix suggestion(s)

SUGGESTED FIXES
---------------

1. Fix Failing Tests
   Auto-fixable: False
   Description: Unit tests are failing
   
   Suggestions:
   - Run tests locally: `mvn test` or `npm test`
   - Check test logs for specific failures
   - Update test assertions if business logic changed

2. Fix Quality Gate Issues
   Auto-fixable: False
   Description: Code quality metrics are below threshold
   
   Suggestions:
   - Run SonarQube analysis locally: `mvn clean verify sonar:sonar`
   - Check coverage: Aim for 80%+ coverage
   - Reduce code smells: Remove duplicated code

üìù Posting analysis to PR #42

üîÑ Triggering job retry...
‚úì Job retry triggered

‚úì CI Failure Agent Completed
                </div>
            </div>

            <!-- PR Comment Example -->
            <div class="demo-section">
                <h2>üí¨ PR Comment Example</h2>
                
                <div class="pr-comment">
                    <h4>ü§ñ CI Failure Analysis</h4>
                    <p><strong>Workflow:</strong> Optimized CI/CD Pipeline<br>
                    <strong>Run ID:</strong> 987654321<br>
                    <strong>Timestamp:</strong> 2026-02-27 10:30:45 UTC</p>

                    <h4 style="margin-top: 20px;">üîç Issues Detected</h4>
                    <div class="issue-badge badge-high">üü† Test Failure (high)</div>
                    <div class="issue-badge badge-high">üü† Quality Gate (high)</div>

                    <h4 style="margin-top: 20px;">üí° Suggested Fixes</h4>
                    
                    <div class="fix-suggestion">
                        <h5>1. Fix Failing Tests <span class="manual-fix-badge">üë§ Manual fix required</span></h5>
                        <p><strong>Description:</strong> Unit tests are failing</p>
                        <p><strong>Suggestions:</strong></p>
                        <ul style="margin-left: 20px;">
                            <li>Run tests locally: <code>mvn test</code> or <code>npm test</code></li>
                            <li>Check test logs for specific failures</li>
                            <li>Update test assertions if business logic changed</li>
                        </ul>
                    </div>

                    <div class="fix-suggestion">
                        <h5>2. Fix Quality Gate Issues <span class="manual-fix-badge">üë§ Manual fix required</span></h5>
                        <p><strong>Description:</strong> Code quality metrics are below threshold</p>
                        <p><strong>Suggestions:</strong></p>
                        <ul style="margin-left: 20px;">
                            <li>Run SonarQube analysis locally</li>
                            <li>Check coverage: Aim for 80%+ coverage</li>
                            <li>Reduce code smells and duplications</li>
                        </ul>
                    </div>

                    <h4 style="margin-top: 20px;">üîÑ Next Steps</h4>
                    <p>The agent will automatically <strong>retry</strong> the failed job once. If it fails again:</p>
                    <ol style="margin-left: 20px;">
                        <li>Review the suggestions above</li>
                        <li>Apply fixes manually or accept auto-fixes</li>
                        <li>Push changes to re-trigger the pipeline</li>
                    </ol>

                    <p style="margin-top: 10px; font-size: 12px; color: #868e96;">
                        <em>Generated by CI Failure Agent ü§ñ</em>
                    </p>
                </div>
            </div>

            <!-- Auto-Fix Examples -->
            <div class="demo-section">
                <h2>üîß Auto-Fix Capabilities</h2>
                
                <table class="comparison-table">
                    <tr>
                        <th>Issue Type</th>
                        <th>Auto-Fixable?</th>
                        <th>Fix Commands</th>
                        <th>Success Rate</th>
                    </tr>
                    <tr>
                        <td><strong>Linting Errors</strong></td>
                        <td><span class="checkmark">‚úì</span> Yes</td>
                        <td><code>npm run lint:fix</code><br><code>prettier --write .</code></td>
                        <td>~95%</td>
                    </tr>
                    <tr>
                        <td><strong>Dependency Issues</strong></td>
                        <td><span class="checkmark">‚úì</span> Yes</td>
                        <td><code>npm cache clean --force</code><br><code>npm install</code></td>
                        <td>~85%</td>
                    </tr>
                    <tr>
                        <td><strong>Security Vulnerabilities</strong></td>
                        <td><span class="checkmark">‚úì</span> Yes</td>
                        <td><code>npm audit fix</code><br><code>mvn versions:use-latest-versions</code></td>
                        <td>~70%</td>
                    </tr>
                    <tr>
                        <td><strong>Build Failures</strong></td>
                        <td><span class="checkmark">‚úì</span> Sometimes</td>
                        <td><code>mvn clean install</code><br><code>npm ci</code></td>
                        <td>~40%</td>
                    </tr>
                    <tr>
                        <td><strong>Test Failures</strong></td>
                        <td><span class="xmark">‚úó</span> No</td>
                        <td>Requires code changes</td>
                        <td>0%</td>
                    </tr>
                    <tr>
                        <td><strong>Quality Gate</strong></td>
                        <td><span class="xmark">‚úó</span> No</td>
                        <td>Requires refactoring</td>
                        <td>0%</td>
                    </tr>
                    <tr>
                        <td><strong>Docker Auth Issues</strong></td>
                        <td><span class="xmark">‚úó</span> No</td>
                        <td>Requires credentials</td>
                        <td>0%</td>
                    </tr>
                </table>
            </div>

            <!-- Example Code -->
            <div class="demo-section">
                <h2>üíª Usage Example</h2>
                
                <h3 style="margin: 20px 0;">Automatic Activation (in GitHub Actions)</h3>
                <div class="code-block">
<span class="code-keyword">on:</span>
  <span class="code-keyword">workflow_run:</span>
    <span class="code-keyword">workflows:</span> [<span class="code-string">"Optimized CI/CD Pipeline"</span>]
    <span class="code-keyword">types:</span>
      - completed

<span class="code-keyword">jobs:</span>
  <span class="code-keyword">analyze-failure:</span>
    <span class="code-keyword">if:</span> <span class="code-string">${{ github.event.workflow_run.conclusion == 'failure' }}</span>
    <span class="code-keyword">runs-on:</span> ubuntu-latest
    
    <span class="code-keyword">steps:</span>
      - <span class="code-keyword">name:</span> Run failure analysis agent
        <span class="code-keyword">env:</span>
          <span class="code-keyword">AUTO_FIX:</span> <span class="code-string">'true'</span>
          <span class="code-keyword">RETRY_ENABLED:</span> <span class="code-string">'true'</span>
        <span class="code-keyword">run:</span> |
          python ci_failure_agent.py
                </div>

                <h3 style="margin: 20px 0;">Manual Usage (local testing)</h3>
                <div class="code-block">
<span class="code-comment"># Analyze failure logs</span>
python ci_failure_agent.py < failure_logs.txt

<span class="code-comment"># With auto-fix enabled</span>
AUTO_FIX=true python ci_failure_agent.py < failure_logs.txt

<span class="code-comment"># Test specific issue type</span>
echo <span class="code-string">"BUILD FAILURE: compilation error"</span> | \\
  JOB_NAME=<span class="code-string">"build-java"</span> \\
  python ci_failure_agent.py
                </div>
            </div>

            <!-- Benefits -->
            <div class="demo-section">
                <h2>‚ú® Key Benefits</h2>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="icon">‚ö°</div>
                        <h4>Faster Recovery</h4>
                        <p>Automatic retry and fix application reduces mean time to recovery (MTTR) by 60%.</p>
                    </div>

                    <div class="feature-card">
                        <div class="icon">üß†</div>
                        <h4>Smart Analysis</h4>
                        <p>Pattern-based detection identifies root causes quickly without manual log reading.</p>
                    </div>

                    <div class="feature-card">
                        <div class="icon">ü§ñ</div>
                        <h4>Auto-Fix</h4>
                        <p>Common issues fixed automatically - linting, dependencies, formatting, security patches.</p>
                    </div>

                    <div class="feature-card">
                        <div class="icon">üìö</div>
                        <h4>Learning Tool</h4>
                        <p>Detailed suggestions help developers understand issues and prevent future failures.</p>
                    </div>

                    <div class="feature-card">
                        <div class="icon">üí∞</div>
                        <h4>Cost Savings</h4>
                        <p>Reduces developer time spent debugging CI failures by ~3 hours per week.</p>
                    </div>

                    <div class="feature-card">
                        <div class="icon">üîî</div>
                        <h4>Proactive Alerts</h4>
                        <p>Notifies team immediately with actionable information, not just "build failed".</p>
                    </div>
                </div>
            </div>

            <!-- Interactive Demo -->
            <div class="demo-section" style="text-align: center;">
                <h2>üéÆ Try the Demo</h2>
                <p style="margin: 20px 0;">Simulate different failure scenarios and see how the agent responds:</p>
                
                <button onclick="simulateFailure('test')">üß™ Simulate Test Failure</button>
                <button onclick="simulateFailure('quality')">üéØ Simulate Quality Gate Failure</button>
                <button onclick="simulateFailure('security')">üîí Simulate Security Issue</button>
                
                <div id="demo-output" style="margin-top: 30px;"></div>
            </div>
        </div>
    </div>

    <script>
        function simulateFailure(type) {
            const output = document.getElementById('demo-output');
            
            const scenarios = {
                test: {
                    title: 'üß™ Test Failure Detected',
                    logs: 'Tests run: 45, Failures: 3, Errors: 0, Skipped: 2',
                    analysis: `
                        <div class="pr-comment">
                            <h4>ü§ñ Analysis Results</h4>
                            <div class="issue-badge badge-high">üü† Test Failure (High Severity)</div>
                            <h4 style="margin-top: 15px;">üí° Auto-Generated Fixes:</h4>
                            <div class="fix-suggestion">
                                <h5>Fix Failing Tests <span class="manual-fix-badge">Manual Required</span></h5>
                                <p><strong>Commands to run:</strong></p>
                                <code style="display: block; margin: 10px 0;">mvn test -Dtest=FailedTestClass</code>
                                <code style="display: block; margin: 10px 0;">npm test -- --verbose</code>
                                <p style="margin-top: 10px;"><strong>Next:</strong> Agent will retry once automatically</p>
                            </div>
                        </div>
                    `
                },
                quality: {
                    title: 'üéØ Quality Gate Failed',
                    logs: 'Quality Gate failed: Coverage 65% (required: 80%), Code Smells: 45',
                    analysis: `
                        <div class="pr-comment">
                            <h4>ü§ñ Analysis Results</h4>
                            <div class="issue-badge badge-high">üü† Quality Gate (High Severity)</div>
                            <h4 style="margin-top: 15px;">üí° Auto-Generated Fixes:</h4>
                            <div class="fix-suggestion">
                                <h5>Improve Code Quality <span class="manual-fix-badge">Manual Required</span></h5>
                                <p><strong>Issues Found:</strong></p>
                                <ul style="margin-left: 20px;">
                                    <li>Coverage: 65% (need 80%+)</li>
                                    <li>Code Smells: 45 (reduce to <20)</li>
                                </ul>
                                <p><strong>Commands to run:</strong></p>
                                <code style="display: block; margin: 10px 0;">mvn clean test jacoco:report</code>
                                <code style="display: block; margin: 10px 0;">mvn sonar:sonar</code>
                            </div>
                        </div>
                    `
                },
                security: {
                    title: 'üîí Security Vulnerabilities Found',
                    logs: '3 high severity vulnerabilities found in dependencies',
                    analysis: `
                        <div class="pr-comment">
                            <h4>ü§ñ Analysis Results</h4>
                            <div class="issue-badge badge-critical">üî¥ Security (Critical)</div>
                            <h4 style="margin-top: 15px;">üí° Auto-Generated Fixes:</h4>
                            <div class="fix-suggestion">
                                <h5>Fix Security Issues <span class="auto-fix-badge">üîß Auto-Fixable</span></h5>
                                <p><strong>Vulnerabilities:</strong> 3 high severity CVEs</p>
                                <p><strong>Agent will run:</strong></p>
                                <code style="display: block; margin: 10px 0;">npm audit fix</code>
                                <code style="display: block; margin: 10px 0;">mvn versions:use-latest-versions</code>
                                <p style="margin-top: 10px; color: #51cf66;">
                                    ‚úì <strong>Auto-fix enabled:</strong> Agent will apply fixes and create commit
                                </p>
                            </div>
                        </div>
                    `
                }
            };
            
            const scenario = scenarios[type];
            output.innerHTML = `
                <div class="terminal">
                    <div class="terminal-header">
                        <span class="terminal-btn btn-red"></span>
                        <span class="terminal-btn btn-yellow"></span>
                        <span class="terminal-btn btn-green"></span>
                        <span style="margin-left: 10px;">${scenario.title}</span>
                    </div>
ü§ñ CI Failure Agent Starting...

üìã Failure Logs:
${scenario.logs}

üîç Analyzing failure patterns...
‚úì Issue detected and categorized

üí° Generating fix suggestions...
‚úì Suggestions generated

üìù Creating PR comment...
‚úì Comment posted
                </div>
                ${scenario.analysis}
            `;
        }
    </script>
</body>
</html>